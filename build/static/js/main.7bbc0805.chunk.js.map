{"version":3,"sources":["utils/points.png","utils/Header.jsx","utils/ProtectedRoute.jsx","actions/productActions.js","constants/productConstants.js","utils/Rating.jsx","components/HomeScreen.jsx","components/ProductScreen.jsx","actions/cartActions.js","constants/cartConstants.js","components/CartScreen.jsx","components/SigninScreen.jsx","actions/userActions.js","constants/userConstants.js","components/RegisterScreen.jsx","components/ProductsScreen.jsx","utils/CheckoutSteps.jsx","components/ShippingScreen.jsx","components/PaymentScreen.jsx","components/PlaceOrderScreen.jsx","constants/orderConstants.js","actions/orderActions.js","utils/PaymentButton.jsx","components/OrderScreen.jsx","components/ProfileScreen.jsx","components/OrdersScreen.jsx","actions/categoryActions.js","constants/categoryConstants.js","App.js","reducers/categoryReducer.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["module","exports","Header","userInfo","useSelector","state","userSignin","className","onClick","document","querySelector","classList","add","to","isAdmin","Fragment","src","points","height","width","name","href","ProtectedRoute","Component","component","restOfProps","render","props","location","pathname","offlinelistProducts","category","searchKeyword","sortOrder","dispatch","getState","a","type","axios","get","data","payload","message","onlinelistProducts","headers","authorization","token","Rating","value","text","HomeScreen","useState","setSortOrder","match","params","id","productList","products","loading","error","useDispatch","topProductsList","topProducts","loadingtop","errorTop","useEffect","onChange","e","target","map","product","key","_id","images","alt","brand","price","points_price","rating","numReviews","slides","autoplay","interval","ProductScreen","qty","setQty","setRating","comment","setComment","productDetails","productSaveSuccess","productReviewSave","success","productId","offlineDetailsProduct","image","description","countInStock","Array","keys","x","history","push","reviews","length","review","createdAt","substring","onSubmit","preventDefault","post","htmlFor","count","newRating","size","activeColor","addToCart","Axios","cartItems","cart","Cookie","set","JSON","stringify","CartScreen","search","Number","split","removeFromCartHandler","removeFromCart","item","reduce","c","disabled","SigninScreen","email","setEmail","password","setPassword","redirect","response","signin","RegisterScreen","setName","rePassword","setRePassword","userRegister","register","ProductsScreen","modalVisible","setModalVisible","setId","setPrice","setPoints","setImages","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","productSave","loadingSave","successSave","errorSave","productDelete","successDelete","openModal","deleteHandler","delete","put","multiple","files","bodyFormData","FormData","i","append","newimages","forEach","formData","then","catch","err","console","log","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","paymentMethod","setPaymentMethod","for","PlaceOrderScreen","orderCreate","order","shipping","payment","itemsPrice","shippingPrice","taxPrice","totalPrice","pay","newOrder","createOrder","orderItems","style","margin","PaymentButton","parseInt","Token","makePayment","body","paymentResult","payerID","orderID","paymentID","status","currency","amount","stripeKey","OrderScreen","orderDetails","orderPay","loadingPay","successPay","errorPay","orderId","handleSuccessPayment","Math","round","payOrder","pointsProducts","payShipping","isDelivered","deliveredAt","isPaid","paidAt","payOrderByPoints","ProfileScreen","loadingClear","userUpdate","myOrderList","loadingOrders","orders","errorOrders","userId","update","remove","toString","OrdersScreen","orderList","orderDelete","user","listCategories","App","categories","categoriesList","path","exact","categoryListReducer","action","initialState","getJSON","reducer","combineReducers","find","filter","errror","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.7bbc0805.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/points.a0b49deb.png\";","\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector} from 'react-redux';\nimport points from \"../utils/points.png\"\n\nexport default function Header()\n{\n    const userSignin = useSelector((state) => state.userSignin);\n    const { userInfo } = userSignin;\n    \n    const openMenu = () => {\n        document.querySelector('.sidebar').classList.add('open');\n      };\n      \n    return(\n\n   <header className=\"header\">\n          <div className=\"brand\">\n            <button onClick={openMenu}>&#9776;</button>\n            <Link to=\"/\">Shopping</Link>\n          </div>\n          <div className=\"header-links\">\n            \n            {userInfo ? (\n              <>\n              \n              {!userInfo.isAdmin && \n                  <React.Fragment><img src={points} height=\"35\" width=\"35\"/>\n                                  <Link to=\"/cart\">{userInfo.points}</Link> </React.Fragment>  }\n              <Link to=\"/profile\">{userInfo.name}</Link>\n              </>\n            ) : (\n              <Link to=\"/signin\">Sign In</Link>\n            )}\n            {userInfo && userInfo.isAdmin && (\n              <div className=\"dropdown\">\n                <a href=\"#\">Admin</a>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    <Link to=\"/orders\">Orders</Link>\n                    <Link to=\"/products\">Products</Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </header>\n\n\n    )\n}\n\n\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useSelector } from 'react-redux';\n\nfunction ProtectedRoute({ component: Component, ...restOfProps }) {\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  return (\n    <Route\n      {...restOfProps}\n      render={(props) =>\n        {\n            \n            if((props.location.pathname==\"/products\" || props.location.pathname==\"/orders\") \n                && !userInfo.isAdmin) return <Redirect to=\"/signin\" />\n            else if(userInfo) return <Component {...props} />\n            else return <Redirect to=\"/signin\" />\n        }\n        \n      }\n    />\n  );\n}\n\nexport default ProtectedRoute;","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n  PRODUCT_LIST_TOP_REQUEST,\n  PRODUCT_LIST_TOP_SUCCESS,\n  PRODUCT_LIST_TOP_FAIL\n} from '../constants/productConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\n\nconst getTopProducts=()=>async(dispatch,getState)=>{\n\n  try {\n    dispatch({ type: PRODUCT_LIST_TOP_REQUEST });\n    \n        const { data } = await axios.get('/api/products/topsold');\n    dispatch({ type: PRODUCT_LIST_TOP_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_LIST_TOP_FAIL, payload: error.message });\n  }\n\n}\n\nconst offlinelistProducts = (category = '',searchKeyword = '',sortOrder = '') => async (dispatch,getState) => {\n  \n  try {\n    dispatch({ type: PRODUCT_LIST_REQUEST });\n        const { data } = await axios.get(\n      '/api/products?category=' +\n        category +\n        '&searchKeyword=' +\n        searchKeyword +\n        '&sortOrder=' +\n        sortOrder\n    );\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n  }\n};\n\nconst onlinelistProducts=()=>async(dispatch,getState)=>{\n  try {\n    dispatch({ type: PRODUCT_LIST_REQUEST });\n    const { userSignin: { userInfo }} = getState();\n        const { data } = await axios.get('/api/products/cache',{\n        headers: {\n          authorization: userInfo.token,\n        }\n      });\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n  }\n}\n\n\nconst saveProduct = (product) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\n    const { userSignin: { userInfo },} = getState();\n    if (!product._id) {\n      const { data } = await Axios.post('/api/products', product, {\n        headers: {\n          authorization: userInfo.token,\n        }\n      });\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    } else {\n      const { data } = await Axios.put(\n        '/api/products/' + product._id,\n        product,\n        {\n          headers: {\n            authorization:userInfo.token,\n          }\n        }\n      );\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    }\n  } catch (error) {\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\n  }\n};\n\nconst offlineDetailsProduct = (productId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n    const { userSignin: { userInfo },} = getState();\n\n    const { data } = await axios.get('/api/products/' + productId);\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n  }\n};\n\nconst onlineDetailsProduct = (productId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n    const { userSignin: { userInfo }} = getState();\n\n    const { data } = await axios.get('/api/products/cache/' + productId,{\n        headers: {\n          authorization: userInfo.token,\n        }\n      });\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n  }\n};\n\n\n\nconst deleteProdcut = (productId) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: { userInfo },\n    } = getState();\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\n    const { data } = await axios.delete('/api/products/' + productId, {\n      headers: {\n        authorization:userInfo.token,\n      },\n    });\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\n  } catch (error) {\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\n  }\n};\n\nconst saveProductReview = (productId, review) => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo: { token },\n      },\n    } = getState();\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\n    const { data } = await axios.post(\n      `/api/products/${productId}/reviews`,\n      review,\n      {\n        headers: {\n          authorization: token,\n        },\n      }\n    );\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\n  } catch (error) {\n    // report error\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\n  }\n};\n\nexport {\n  getTopProducts,\n  onlinelistProducts,\n  offlinelistProducts,\n  onlineDetailsProduct,\n  offlineDetailsProduct,\n  saveProduct,\n  deleteProdcut,\n  saveProductReview,\n};\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\n\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\n\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\n\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\n\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\n\nexport const PRODUCT_LIST_TOP_REQUEST=\"PRODUCT_LIST_TOP_REQUEST\";\nexport const PRODUCT_LIST_TOP_SUCCESS=\"PRODUCT_LIST_TOP_SUCCESS\";\nexport const PRODUCT_LIST_TOP_FAIL=\"PRODUCT_LIST_TOP_FAIL\";\n","import React from 'react';\n\nexport default function Rating(props) {\n  return !props.value ? (\n    <div></div>\n  ) : (\n    <div className=\"rating\">\n      <span>\n        <i\n          className={\n            props.value >= 1\n              ? 'fa fa-star'\n              : props.value >= 0.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 2\n              ? 'fa fa-star'\n              : props.value >= 1.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 3\n              ? 'fa fa-star'\n              : props.value >= 2.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 4\n              ? 'fa fa-star'\n              : props.value >= 3.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>\n        <i\n          className={\n            props.value >= 5\n              ? 'fa fa-star'\n              : props.value >= 4.5\n              ? 'fa fa-star-half-o'\n              : 'fa fa-star-o'\n          }\n        ></i>\n      </span>\n      <span>{props.text ? props.text : ''}</span>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport points from \"../utils/points.png\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { offlinelistProducts,onlinelistProducts,getTopProducts } from '../actions/productActions';\nimport Rating from '../utils/Rating';\nimport {Carousel} from '3d-react-carousal';\nimport Image from 'react-image-resizer';\n\n\nfunction HomeScreen(props) {\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [sortOrder, setSortOrder] = useState('');\n  const [Slides,setSlides]=useState([]);\n  \n  const category = props.match.params.id ? props.match.params.id : '';\n  \n  const productList = useSelector((state) => state.productList);\n  const { products, loading, error } = productList;\n  const dispatch = useDispatch();\n\n  const topProductsList=useSelector(state=>state.topProducts);\n  const {loading:loadingtop,error:errorTop,products:topProducts}=topProductsList;\n\n\n\n\n  \n  \n\n  useEffect(()=>{\n    dispatch(getTopProducts())\n    \n    if(userInfo)\n    dispatch(onlinelistProducts())\n  },[])\n\n  useEffect(() => {\n    \n    if(userInfo && category==\"\")\n    dispatch(onlinelistProducts())\n    else\n    dispatch(offlinelistProducts(category))\n    return () => {\n      //\n    };\n  }, [category]);\n\n  const submitHandler = (e) => {\n   \n    dispatch(offlinelistProducts(category, e.target.value, sortOrder));\n  };\n  const sortHandler = (e) => {\n    setSortOrder(e.target.value);\n    dispatch(offlinelistProducts(category, searchKeyword, sortOrder));\n  };\n\n  \n  \n  \n  return (\n    <>\n      {category && <h2>{category}</h2>}\n      \n      <ul className=\"filter\">\n        <li>\n          <form >\n            <input\n              name=\"searchKeyword\"\n              onChange={submitHandler}\n            />\n          </form>\n        </li>\n        <li>\n          Sort By{' '}\n          <select name=\"sortOrder\" onChange={sortHandler}>\n            <option value=\"lowest\">Lowest</option>\n            <option value=\"highest\">Highest</option>\n          </select>\n        </li>\n      </ul>\n      \n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error}</div>\n      ) : (\n        <ul className=\"products\">\n          {products.map((product) => (\n            <li key={product._id}>\n              <div className=\"product\">\n                <Link to={'/product/' + product._id}>\n                  <img\n                    className=\"product-image\"\n                    src={product.images[0]}\n                    alt=\"product\"\n                  />\n                </Link>\n                <div className=\"product-name\">\n                  <Link to={'/product/' + product._id}>{product.name}</Link>\n                </div>\n                <div className=\"product-brand\">{product.brand}</div>\n                <div className=\"product-price\">${product.price}</div>\n                <div className=\"product-price\">\n                   <img src={points} height=\"20\" width=\"20\"/>{product.points_price}\n                </div>\n                <div className=\"product-rating\">\n                  <Rating\n                    value={product.rating}\n                    text={product.numReviews + ' reviews'}\n                  />\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n        \n      )}\n      {errorTop && <p>error</p>}\n      {\n        !loadingtop && \n        <>\n        <ul className=\"filter\">\n          <h1>10 Best selling Products</h1>\n        </ul>\n        <Carousel \n        slides={ topProducts.map(product=>\n                <Link to={'/product/' + product._id}><Image width={500}\n                height={240} src={product.images[0]}/></Link>)} \n        autoplay={true} \n        interval={4000} \n        />\n        </>\n      }\n      \n      \n    </>\n  );\n}\nexport default HomeScreen;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { onlineDetailsProduct,offlineDetailsProduct, saveProductReview } from '../actions/productActions';\nimport Rating from '../utils/Rating';\nimport points from \"../utils/points.png\"\nimport { PRODUCT_REVIEW_SAVE_RESET } from '../constants/productConstants';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport ReactStars from \"react-rating-stars-component\";\n\n\nfunction ProductScreen(props) {\n\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  \n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n  \n  const productDetails = useSelector((state) => state.productDetails);\n  const { product, loading, error } = productDetails;\n\n\n  const productReviewSave = useSelector((state) => state.productReviewSave);\n  const { success: productSaveSuccess } = productReviewSave;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (productSaveSuccess) {\n      setRating(0);\n      setComment('');\n      dispatch({ type: PRODUCT_REVIEW_SAVE_RESET });\n    }\n    //get details product\n    if(userInfo)\n    dispatch(onlineDetailsProduct(props.match.params.id));\n    else dispatch(offlineDetailsProduct(props.match.params.id))\n    return () => {\n      //\n    };\n  }, [productSaveSuccess]);\n  const submitHandler = (e) => {\n    e.preventDefault();\n    // dispatch actions\n    dispatch(\n      saveProductReview(props.match.params.id, {\n        name: userInfo.name,\n        rating: rating,\n        comment: comment,\n      })\n    );\n  };\n  const handleAddToCart = () => {\n    props.history.push('/cart/' + props.match.params.id + '?qty=' + qty);\n  };\n  const ratingChanged = (newRating) => {\n    setRating(newRating)\n  }\n\n  return (\n    <div>\n      <div className=\"back-to-result\">\n        <Link to=\"/\">Back to result</Link>\n      </div>\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div>{error} </div>\n      ) : (\n        <>\n          <div className=\"details\">\n          <Carousel width=\"400px\">\n            {(product.images) && (\n              product.images.map(image=>\n                <div>\n                <img src={image} alt=\"product\"/>\n                </div>\n                )\n            )\n            }\n            </Carousel>\n            <div className=\"product\">\n            \n              \n            </div>\n            <div className=\"details-info\">\n              <ul>\n                <li>\n                  <h4>{product.name}</h4>\n                </li>\n                <li>\n                  <a href=\"#reviews\">\n                 \n                    <Rating\n                      value={product.rating}\n                      text={product.numReviews + ' reviews'}\n                    />\n                  </a>\n                </li>\n                <li>\n                  Price: <b>${product.price}</b>\n                </li>\n                <li>\n                  Points:\n                  <img src={points} height=\"20\" width=\"20\"/> \n                   <b>{product.points_price}</b>\n                </li>\n                <li>\n                  Description:\n                  <div>{product.description}</div>\n                </li>\n              </ul>\n            </div>\n            <div className=\"details-action\">\n              <ul>\n                <li>Price: {product.price}</li>\n                <li>\n                  Status:{' '}\n                  {product.countInStock > 0 ? 'In Stock' : 'Unavailable.'}\n                </li>\n                <li>\n                  Qty:{' '}\n                  <select\n                    value={qty}\n                    onChange={(e) => {\n                      setQty(e.target.value);\n                    }}\n                  >\n                    {[...Array(product.countInStock).keys()].map((x) => (\n                      <option key={x + 1} value={x + 1}>\n                        {x + 1}\n                      </option>\n                    ))}\n                  </select>\n                </li>\n                <li>\n                  {product.countInStock > 0 && (\n                    <button\n                      onClick={handleAddToCart}\n                      className=\"button primary\"\n                    >\n                      Add to Cart\n                    </button>\n                  )}\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"content-margined\">\n            <h2>Reviews</h2>\n            {!product.reviews.length && <div>There is no review</div>}\n            <ul className=\"review\" id=\"reviews\">\n              {product.reviews.map((review) => (\n                <li key={review._id}>\n                  <div>{review.name}</div>\n                  <div>\n                    <Rating value={review.rating}></Rating>\n                  </div>\n                  <div>{review.createdAt.substring(0, 10)}</div>\n                  <div>{review.comment}</div>\n                </li>\n              ))}\n              <li>\n                <h3>Write a customer review</h3>\n                {userInfo ? (\n                  <form onSubmit={submitHandler}>\n                    <ul className=\"form-container\">\n                      <li>\n                        <label htmlFor=\"rating\">Rating</label>\n                        <ReactStars\n                          count={5}\n                          onChange={ratingChanged }\n                          size={24}\n                          activeColor=\"#FFB901\"\n                          />\n                        \n                      </li>\n                      <li>\n                        <label htmlFor=\"comment\">Comment</label>\n                        <textarea\n                          name=\"comment\"\n                          value={comment}\n                          onChange={(e) => setComment(e.target.value)}\n                        ></textarea>\n                      </li>\n                      <li>\n                        <button type=\"submit\" className=\"button primary\">\n                          Submit\n                        </button>\n                      </li>\n                    </ul>\n                  </form>\n                ) : (\n                  <div>\n                    Please <Link to=\"/signin\">Sign-in</Link> to write a review.\n                  </div>\n                )}\n              </li>\n            </ul>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\nexport default ProductScreen;\n","import Axios from \"axios\";\nimport Cookie from \"js-cookie\";\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT,CART_RESET } from \"../constants/cartConstants\";\n\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\n  try {\n    const { data } = await Axios.get(\"/api/products/\" + productId);\n    dispatch({\n      type: CART_ADD_ITEM, payload: {\n        product: data._id,\n        name: data.name,\n        images: data.images,\n        price: data.price,\n        points_price:data.points_price,\n        countInStock: data.countInStock,\n        qty\n      }\n    });\n    const { cart: { cartItems } } = getState();\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n\n  } catch (error) {\n\n  }\n}\nconst removeFromCart = (productId) => (dispatch, getState) => {\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\n\n  const { cart: { cartItems } } = getState();\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\n}\nconst saveShipping = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\n}\nconst savePayment = (data) => (dispatch) => {\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\n}\nconst resetCart=()=>(dispatch)=>{\n  dispatch({type:CART_RESET})\n}\nexport { addToCart, removeFromCart, saveShipping, savePayment,resetCart }","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\nexport const CART_SAVE_SHIPPING = 'CART_SAVE_SHIPPING';\nexport const CART_SAVE_PAYMENT = 'CART_SAVE_PAYMENT';\nexport const CART_RESET=\"CART_RESET\";","import React, { useEffect } from 'react';\nimport { addToCart, removeFromCart } from '../actions/cartActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport points from \"../utils/points.png\"\nfunction CartScreen(props) {\n\n  const cart = useSelector(state => state.cart);\n  const { cartItems } = cart;\n\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\n  \n  const dispatch = useDispatch();\n  const removeFromCartHandler = (productId) => {\n    dispatch(removeFromCart(productId));\n  }\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, []);\n\n  const checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\");\n  }\n\n  return <div className=\"cart\">\n    <div className=\"cart-list\">\n      <ul className=\"cart-list-container\">\n        <li>\n          <h3>\n            Shopping Cart\n          </h3>\n          <div>\n            Price\n          </div>\n          \n        </li>\n        {\n          cartItems.length === 0 ?\n            <div>\n              Cart is empty\n          </div>\n            :\n            \n            cartItems.map(item =>\n            \n            <li>\n                <div className=\"cart-image\">\n                  <img src={item.images[0]} alt=\"product\" />\n                </div>\n                <div className=\"cart-name\">\n                  <div>\n                    <Link to={\"/product/\" + item.product}>\n                      {item.name}\n                    </Link>\n\n                  </div>\n                  <div>\n                    Qty:\n                  <select value={item.qty} onChange={(e) => dispatch(addToCart(item.product, e.target.value))}>\n                      {[...Array(item.countInStock).keys()].map(x =>\n                        <option key={x + 1} value={x + 1}>{x + 1}</option>\n                      )}\n                    </select>\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n                <div className=\"cart-price\">\n                  ${item.price} <br/><img src={points} height=\"20\" width=\"20\"/>  {item.points_price} \n                </div>\n                \n              </li>\n            )\n        }\n      </ul>\n\n    </div>\n    <div className=\"cart-action\">\n      <h3>\n        Subtotal ( {cartItems.reduce((a, c) => Number(a) + Number(c.qty) , 0)} items)\n        :\n         $ {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\n     </h3>\n      <h2>\n      <img src={points} height=\"20\" width=\"20\"/> {cartItems.reduce((a, c) => a+c.points_price * c.qty, 0)}\n \n      </h2>\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\n        Proceed to Checkout\n      </button>\n\n    </div>\n\n  </div>\n}\n\nexport default CartScreen;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { signin } from '../actions/userActions';\n\nfunction SigninScreen(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  //select userSignin info\n  const userSignin = useSelector(state => state.userSignin);\n  const { loading, userInfo, error } = userSignin;\n  const dispatch = useDispatch();\n\n  // choose redirect --> / or \n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\n\n  //when value of userInfo change \n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n      //redirect /signin/\n    }\n    return () => {\n      // if userInfo doesn't exist\n      //redirect return / ==>/signin\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(signin(email, password));\n\n  }\n  return <div className=\"form\">\n    <form onSubmit={submitHandler} >\n      <ul className=\"form-container\">\n        <li>\n          <center><h2>Sign-In</h2></center>\n          \n        </li>\n        <li>\n          {loading && <div>Loading...</div>}\n          {error && <div>{error}</div>}\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"button primary\">Signin</button>\n        </li>\n        <li>\n        \n          <Link to={redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect} \n          className=\"button secondary text-center\" >Create your account</Link>\n        </li>\n      </ul>\n    </form>\n  </div>\n}\nexport default SigninScreen;","import Axios from \"axios\";\nimport Cookie from 'js-cookie';\nimport {\n  USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,\n  USER_SIGNIN_FAIL, USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, \n  USER_LOGOUT, USER_UPDATE_REQUEST,\n   USER_UPDATE_SUCCESS, USER_UPDATE_FAIL, USER_CLEAR_CACHE_REQUEST, USER_CLEAR_CACHE_SUCCESS,USER_CLEAR_CACHE_ERROR\n} from \"../constants/userConstants\";\n\nconst update = ({ userId, name, email, password }) => async (dispatch, getState) => {\n  const { userSignin: { userInfo } } = getState();\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, name, email, password } });\n  try {\n    const { data } = await Axios.put(\"/api/users/\" + userId,\n      { name, email, password }, {\n      headers: {\n        authorization: userInfo.token\n      }\n    });\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\n    Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\n  }\n}\n\n\nconst signin = (email, password) => async (dispatch) => {\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\n  try {\n    const {data} = await Axios.post(\"/api/users/signin\", { email, password });\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\n    Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n  \n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.response.data.message });\n  }\n}\n\n\nconst register = (name, email, password,rePassword) => async (dispatch) => {\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\n  try {\n    const { data } = await Axios.post(\"/api/users/register\", { name, email, password,rePassword });\n  \n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n    Cookie.set('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.response.data.message });\n  }\n}\n\nconst clearCache=(token)=>async(dispatch, getState)=>{\n  const { userSignin: { userInfo } } = getState();\n  dispatch({type:USER_CLEAR_CACHE_REQUEST});\n  try{\n    const { data } = await Axios.put(\"/api/users/clearcache/\",{},{headers: {\n      authorization: token}\n    })\n    dispatch({type:USER_CLEAR_CACHE_SUCCESS})\n  }\n  catch(error)\n  {\n    dispatch({type:USER_CLEAR_CACHE_ERROR})\n  }\n}\n\nconst logout = () => (dispatch) => {\n  Cookie.remove(\"userInfo\");\n  dispatch({ type: USER_LOGOUT })\n}\nexport { signin, register, logout, update,clearCache };","export const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\n\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\n\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\n\nexport const USER_LOGOUT = 'USER_LOGOUT';\n\nexport const USER_DECREMENT_POINTS=\"USER_DECREMENT_POINTS\"\nexport const USER_INCREMENT_POINTS=\"USER_INCREMENT_POINTS\"\n\nexport const USER_CLEAR_CACHE_REQUEST=\"USER_CLEAR_CACHE_REQUEST\"\nexport const USER_CLEAR_CACHE_SUCCESS=\"USER_CLEAR_CACHE_SUCCESS\"\nexport const USER_CLEAR_CACHE_ERROR=\"USER_CLEAR_CACHE_ERROR\"","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { register } from '../actions/userActions';\n\nfunction RegisterScreen(props) {\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rePassword, setRePassword] = useState('');\n  \n  const userRegister = useSelector(state => state.userRegister);\n  const { loading, userInfo, error } = userRegister;\n  const dispatch = useDispatch();\n\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(register(name, email, password,rePassword));\n  }\n  return <div className=\"form\">\n    <form onSubmit={submitHandler} >\n      <ul className=\"form-container\">\n        <li>\n          <center><h2>Create Account</h2></center>\n          \n        </li>\n        <li>\n          {loading && <div>Loading...</div>}\n          {error && <div>{error}</div>}\n        </li>\n        <li>\n          <label htmlFor=\"name\">\n            Name\n          </label>\n          <input type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Email\n          </label>\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\n          <input type=\"password\" id=\"rePassword\" name=\"rePassword\" onChange={(e) => setRePassword(e.target.value)}>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"button primary\">Register</button>\n        </li>\n        <li>\n          Already have an account?\n          <Link to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect} className=\"button secondary text-center\" >Create your account</Link>\n\n        </li>\n\n      </ul>\n    </form>\n  </div>\n}\nexport default RegisterScreen;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport {\n  saveProduct,\n  offlinelistProducts,\n  deleteProdcut,\n} from '../actions/productActions';\n\nfunction ProductsScreen(props) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [id, setId] = useState('');\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [points, setPoints] = useState('');\n  const [images, setImages] = useState([]);\n  const [brand, setBrand] = useState('');\n  const [category, setCategory] = useState('');\n  const [countInStock, setCountInStock] = useState('');\n  const [description, setDescription] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const productList = useSelector((state) => state.productList);\n  const { loading, products, error } = productList;\n\n  const productSave = useSelector((state) => state.productSave);\n  const {\n    loading: loadingSave,\n    success: successSave,\n    error: errorSave,\n  } = productSave;\n\n  const productDelete = useSelector((state) => state.productDelete);\n  const {\n    loading: loadingDelete,\n    success: successDelete,\n    error: errorDelete,\n  } = productDelete;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (successSave) {\n      setModalVisible(false);\n    }\n    dispatch(offlinelistProducts());\n    return () => {\n      //\n    };\n  }, [successSave, successDelete]);\n\n  const openModal = (product) => {\n    setModalVisible(true);\n    setId(product._id);\n    setName(product.name);\n    setPrice(product.price);\n    setPoints(product.points_price)\n    setDescription(product.description);\n    setImages(product.images);\n    setBrand(product.brand);\n    setCategory(product.category);\n    setCountInStock(product.countInStock);\n  };\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(\n      saveProduct({\n        _id: id,\n        name,\n        price,\n        points,\n        images,\n        brand,\n        category,\n        countInStock,\n        description,\n      })\n    );\n  };\n  const deleteHandler = (product) => {\n    dispatch(deleteProdcut(product._id));\n  };\n  const uploadFileHandler = (e) => {\n    \n    const files=e.target.files;\n    const bodyFormData = new FormData();\n    \n    for(let i=0;i<files.length;i++)\n    {\n      bodyFormData.append(`Image${i}`,files[i])\n    }\n    \n    setUploading(true)\n    var newimages=[]\n    bodyFormData.forEach(image=>{\n      let formData=new FormData()\n      formData.append('Image',image)\n      \n      axios.post('/api/uploads/s3',formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then((response) => {\n        \n        newimages.push(response.data)\n        \n        \n        \n        setUploading(false);\n      })\n      .catch((err) => {\n        console.log(\"error\");\n        setUploading(false);\n      });\n    })\n    setImages(newimages);\n    \n      \n    \n    \n  };\n  return (\n    <div className=\"content content-margined\">\n      <div className=\"product-header\">\n        <h3>Products</h3>\n        <button className=\"button primary\" onClick={() => openModal({})}>\n          Create Product\n        </button>\n      </div>\n      {modalVisible && (\n        <div className=\"form\">\n          <form onSubmit={submitHandler}>\n            <ul className=\"form-container\">\n              <li>\n                <h2>Create Product</h2>\n              </li>\n              <li>\n                {loadingSave && <div>Loading...</div>}\n                {errorSave && <div>{errorSave}</div>}\n              </li>\n\n              <li>\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  id=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"price\">Price</label>\n                <input\n                  type=\"text\"\n                  name=\"price\"\n                  value={price}\n                  id=\"price\"\n                  onChange={(e) => setPrice(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"points\">Points</label>\n                <input\n                  type=\"text\"\n                  name=\"points\"\n                  value={points}\n                  id=\"points\"\n                  onChange={(e) => setPoints(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"image\">Image</label>\n                <input\n                  type=\"text\"\n                  name=\"image\"\n                  value={images}\n                  id=\"image\"\n                  onChange={(e) => setImages(e.target.value)}\n                ></input>\n                <input type=\"file\" multiple onChange={uploadFileHandler}></input>\n                {uploading && <div>Uploading...</div>}\n              </li>\n              <li>\n                <label htmlFor=\"brand\">Brand</label>\n                <input\n                  type=\"text\"\n                  name=\"brand\"\n                  value={brand}\n                  id=\"brand\"\n                  onChange={(e) => setBrand(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"countInStock\">CountInStock</label>\n                <input\n                  type=\"text\"\n                  name=\"countInStock\"\n                  value={countInStock}\n                  id=\"countInStock\"\n                  onChange={(e) => setCountInStock(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"name\">Category</label>\n                <input\n                  type=\"text\"\n                  name=\"category\"\n                  value={category}\n                  id=\"category\"\n                  onChange={(e) => setCategory(e.target.value)}\n                ></input>\n              </li>\n              <li>\n                <label htmlFor=\"description\">Description</label>\n                <textarea\n                  name=\"description\"\n                  value={description}\n                  id=\"description\"\n                  onChange={(e) => setDescription(e.target.value)}\n                ></textarea>\n              </li>\n              <li>\n                <button type=\"submit\" className=\"button primary\">\n                  {id ? 'Update' : 'Create'}\n                </button>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={() => setModalVisible(false)}\n                  className=\"button secondary\"\n                >\n                  Back\n                </button>\n              </li>\n            </ul>\n          </form>\n        </div>\n      )}\n\n      <div className=\"product-list\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>Price</th>\n              <th>Category</th>\n              <th>Brand</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map((product) => (\n              <tr key={product._id}>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>{product.price}</td>\n                <td>{product.category}</td>\n                <td>{product.brand}</td>\n                <td>\n                  <button className=\"button\" onClick={() => openModal(product)}>\n                    Edit\n                  </button>{' '}\n                  <button\n                    className=\"button\"\n                    onClick={() => deleteHandler(product)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\nexport default ProductsScreen;\n","import React from 'react';\nfunction CheckoutSteps(props) {\n  return <div className=\"checkout-steps\">\n    <div className={props.step1 ? 'active' : ''} >Signin</div>\n    <div className={props.step2 ? 'active' : ''} >Shipping</div>\n    <div className={props.step3 ? 'active' : ''} >Payment</div>\n    <div className={props.step4 ? 'active' : ''} >Place Order</div>\n  </div>\n}\n\nexport default CheckoutSteps;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { saveShipping } from '../actions/cartActions';\nimport CheckoutSteps from '../utils/CheckoutSteps';\n\nfunction ShippingScreen(props) {\n\n  const [address, setAddress] = useState('');\n  const [city, setCity] = useState('');\n  const [postalCode, setPostalCode] = useState('');\n  const [country, setCountry] = useState('');\n\n  const dispatch = useDispatch();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(saveShipping({ address, city, postalCode, country }));\n    props.history.push('/payment');\n  }\n  return <div>\n    <CheckoutSteps step1 step2 ></CheckoutSteps>\n    <div className=\"form\">\n      <form onSubmit={submitHandler} >\n        <ul className=\"form-container\">\n          <li>\n            <h2>Shipping</h2>\n          </li>\n\n          <li>\n            <label htmlFor=\"address\">\n              Address\n          </label>\n            <input type=\"text\" name=\"address\" id=\"address\" onChange={(e) => setAddress(e.target.value)}>\n            </input>\n          </li>\n          <li>\n            <label htmlFor=\"city\">\n              City\n          </label>\n            <input type=\"text\" name=\"city\" id=\"city\" onChange={(e) => setCity(e.target.value)}>\n            </input>\n          </li>\n          <li>\n            <label htmlFor=\"postalCode\">\n              Postal Code\n          </label>\n            <input type=\"text\" name=\"postalCode\" id=\"postalCode\" onChange={(e) => setPostalCode(e.target.value)}>\n            </input>\n          </li>\n          <li>\n            <label htmlFor=\"country\">\n              Country\n          </label>\n            <input type=\"text\" name=\"country\" id=\"country\" onChange={(e) => setCountry(e.target.value)}>\n            </input>\n          </li>\n\n\n          <li>\n            <button type=\"submit\" className=\"button primary\">Continue</button>\n          </li>\n\n        </ul>\n      </form>\n    </div>\n  </div>\n\n}\nexport default ShippingScreen;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { savePayment } from '../actions/cartActions';\nimport CheckoutSteps from '../utils/CheckoutSteps';\n\nfunction PaymentScreen(props) {\n\n  const cart = useSelector(state => state.cart);\n  const { cartItems } = cart;\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo:{points} } = userSignin;\n  \n  const [paymentMethod, setPaymentMethod] = useState('');\n\n  const dispatch = useDispatch();\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(savePayment({ paymentMethod }));\n    props.history.push('/placeorder');\n  };\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\n      <div className=\"form\">\n        <form onSubmit={submitHandler}>\n          <ul className=\"form-container\">\n            <li>\n              <h2>Payment</h2>\n            </li>\n\n            <li>\n              <div>\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  id=\"paymentMethod\"\n                  value=\"card\"\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                ></input>\n                <label for=\"paymentMethod\">Card</label>\n              </div>\n              \n            </li>\n           {(\n            points >= cartItems.reduce((a, c) => a + Number(c.points_price * c.qty), 0)\n\n           )&& \n            <li>\n            <div>\n                <input\n                  type=\"radio\"\n                  name=\"paymentMethod\"\n                  id=\"pointsMethod\"\n                  value=\"points\"\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                ></input>\n                <label for=\"pointsMethod\">Points</label>\n              </div>\n            </li>\n           }\n\n\n           <li>\n              <button type=\"submit\" className=\"button primary\">\n                Continue\n              </button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PaymentScreen;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport CheckoutSteps from '../utils/CheckoutSteps';\nimport { createOrder } from '../actions/orderActions';\nimport points from \"../utils/points.png\"\nimport {ORDER_RESET} from \"../constants/orderConstants\"\nimport {resetCart } from \"../actions/cartActions\";\nfunction PlaceOrderScreen(props) {\n\n  const cart = useSelector(state => state.cart);\n  const orderCreate = useSelector(state => state.orderCreate);\n  const { loading, success, error, order } = orderCreate;\n\n  const { cartItems, shipping, payment } = cart;\n  if (!shipping.address) {\n    props.history.push(\"/shipping\");\n  } else if (!payment.paymentMethod) {\n    props.history.push(\"/payment\");\n  }\n  \n  const itemsPrice = (payment.paymentMethod!=\"points\") ? (cartItems.reduce((a, c) => a + c.price * c.qty, 0)) : 0\n  const shippingPrice = (payment.paymentMethod!=\"points\") ? (itemsPrice > 1000 ? 0 : 10) : ((cartItems.reduce((a, c) => a + c.points_price * c.qty, 0)) > 1800 ? 0: 10)\n  const taxPrice = (payment.paymentMethod!=\"points\") ? 0.15 * itemsPrice : 0\n  const totalPrice = (payment.paymentMethod!=\"points\") ? (itemsPrice + shippingPrice + taxPrice) : shippingPrice\n  \n  const dispatch = useDispatch();\n\n  const placeOrderHandler = () => {\n    // create an order\n    let pay=payment.paymentMethod\n     dispatch(createOrder({\n      orderItems: cartItems, shipping, pay, itemsPrice, shippingPrice,\n      taxPrice, totalPrice\n    }));\n    \n  }\n  useEffect(() => {\n    if (success) {\n      \n      dispatch({type:ORDER_RESET})\n      \n      props.history.push(\"order/\" + order._id);\n    }\n\n  }, [success]);\n\n  return <div>\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\n    <div className=\"placeorder\">\n      <div className=\"placeorder-info\">\n        <div>\n          <h3>\n            Shipping\n          </h3>\n          <div>\n            {cart.shipping.address}, {cart.shipping.city},\n          {cart.shipping.postalCode}, {cart.shipping.country},\n          </div>\n        </div>\n        <div>\n          <h3>Payment</h3>\n          <div>\n            Payment Method: {cart.payment.paymentMethod}\n          </div>\n        </div>\n        <div>\n          <ul className=\"cart-list-container\">\n            <li>\n              <h3>\n                Shopping Cart\n          </h3>\n              <div>\n                Price\n          </div>\n            </li>\n            {\n              cartItems.length === 0 ?\n                <div>\n                  Cart is empty\n          </div>\n                :\n                cartItems.map(item =>\n                  <li>\n                    <div className=\"cart-image\">\n                      <img src={item.images[0]} alt=\"product\" />\n                    </div>\n                    <div className=\"cart-name\">\n                      <div>\n                        <Link to={\"/product/\" + item.product}>\n                          {item.name}\n                        </Link>\n\n                      </div>\n                      <div>\n                        Qty: {item.qty}\n                      </div>\n                    </div>\n                    <div className=\"cart-price\">\n                      ${item.price}\n                      <br/><img src={points} height=\"20\" width=\"20\"/>  {item.points_price}\n                    </div>\n                  </li>\n                )\n            }\n          </ul>\n        </div>\n      </div>\n      <div className=\"placeorder-action\">\n        <ul>\n          <li>\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\n          </li>\n          <li>\n            <h3>Order Summary</h3>\n          </li>\n          <li>\n            <div>Items</div>\n            <div>${itemsPrice}</div>\n          </li>\n          <li>\n            <div>Shipping</div>\n            <div>${shippingPrice}</div>\n          </li>\n          <li>\n            <div>Tax</div>\n            <div>${taxPrice}</div>\n          </li>\n          <li>\n            <div>Order Total</div>\n            {\n              (payment.paymentMethod!=\"points\") &&  <div>${totalPrice}</div>\n            }\n            \n            {(payment.paymentMethod==\"points\") &&\n            <>\n             <div>{cartItems.reduce((a, c) => a + c.points_price * c.qty, 0)}</div>\n             \n             <img src={points} height=\"20\" width=\"20\" style={{margin:\"1\"}} /> \n             <div>\n               + $ {shippingPrice}\n             </div>\n             </>\n            }\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n}\n\nexport default PlaceOrderScreen;","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\n\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\n\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\n\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\n\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\n\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\n\nexport const ORDER_RESET=\"ORDER_RESET\";\nexport const ORDER_PAY_RESET=\"ORDER_PAY_RESET\";","import Axios from \"axios\";\nimport {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL\n} from \"../constants/orderConstants\";\nimport {resetCart} from \"../actions/cartActions\"\n\n\nconst createOrder = (order) => async (dispatch, getState) => {\n  try {\n    \n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\n   \n    const { userSignin: { userInfo } } = getState();\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\n      headers: {\n        authorization:  userInfo.token\n      }\n    });\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\n    dispatch(resetCart())\n    \n  } catch (error) {\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\n  }\n}\n\nconst listMyOrders = () => async (dispatch, getState) => {\n  try {\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/mine\", {\n      headers:\n        { authorization: userInfo.token }\n    });\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst listOrders = () => async (dispatch, getState) => {\n\n  try {\n    dispatch({ type: ORDER_LIST_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders\", {\n      headers:\n        { authorization: userInfo.token }\n    });\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\n  }\n}\n\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.get(\"/api/orders/\" + orderId, {\n      headers:\n        { authorization: userInfo.token }\n    });\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\n  }\n}\n\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\n      headers:\n        { authorization:userInfo.token }\n    });\n    dispatch({ type: ORDER_PAY_SUCCESS,payload: {orderItems:order.orderItems,shipping:order.shipping,paymentResult} })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\nconst payOrderByPoints= (order, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/payByPoints\", paymentResult, {\n      headers:\n        { authorization:userInfo.token }\n    });\n    dispatch({ type: ORDER_PAY_SUCCESS,payload: {orderItems:order.orderItems,shipping:order.shipping,paymentResult} })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\n\nconst payShipping=(order,paymentResult)=> async (dispatch, getState) =>{\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/payShipping\", paymentResult, {\n      headers:\n        { authorization:userInfo.token }\n    });\n    dispatch({ type: ORDER_PAY_SUCCESS,payload: {orderItems:order.orderItems,shipping:order.shipping,paymentResult} })\n  } catch (error) {\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\n  }\n}\n\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\n    const { userSignin: { userInfo } } = getState();\n    const { data } = await Axios.delete(\"/api/orders/\" + orderId, {\n      headers:\n        { authorization:userInfo.token }\n    });\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\n  } catch (error) {\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\n  }\n}\nexport { createOrder, detailsOrder, payOrder,payOrderByPoints, listMyOrders, listOrders, deleteOrder,payShipping };","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport StripeCheckout from 'react-stripe-checkout';\nfunction PaymentButton(props) {\n  \n  useEffect(()=>{\n   console.log(props.order)\n  },[])\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const [product, setproduct] = useState({\n    price:parseInt(props.order.totalPrice),\n    shipping:props.order.shipping,\n    \n  });\n  const [Token, setToken] = useState({\n    id:userInfo._id,\n    email:userInfo.email\n  });\n  \n \n  const makePayment=async()=>{\n    \n    const body={product,token:Token};\n    try{\n      const {data} = await axios.post(\"/api/payment\",body)\n      const paymentResult={\n        payerID:Token.id ,\n        orderID: props.order._id,\n        paymentID: data.id\n      }\n      props.pay(paymentResult)\n      return data\n    }\n    catch(error)\n    {\n      console.log(\"response\",error.response,\"status\",error.response.status)\n    }\n  }\n    return <StripeCheckout \n    currency=\"USD\"\n    amount={product.price*100}\n    name=\"Stripe\"\n    token={makePayment}\n    stripeKey=\"pk_test_51J5pbGAJx5tuHbI4hJuzouvJy87Ok9Enu1rks5ETwJevsdZimG30PtiJ2iQyjpBu5LGwkkvxjG5LuXZFTRuoIAGI00dF6LJrAu\" >\n      <button type=\"button\" className=\"button primary\">Pay with Card </button>\n\n      </StripeCheckout>\n\n\n\n  }\n\nexport default PaymentButton;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { detailsOrder, payOrder,payOrderByPoints,payShipping} from '../actions/orderActions';\nimport PaymentButton from '../utils/PaymentButton';\nimport points from \"../utils/points.png\"\nimport {USER_DECREMENT_POINTS} from \"../constants/userConstants\"\nimport {ORDER_PAY_RESET} from \"../constants/orderConstants\"\nimport {resetCart} from \"../actions/cartActions\";\nimport {USER_INCREMENT_POINTS} from \"../constants/userConstants\"\n\nfunction OrderScreen(props) {\n\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  const orderDetails = useSelector(state => state.orderDetails);\n  const { loading, order, error } = orderDetails;\n\n  const orderPay = useSelector(state => state.orderPay);\n  const { loading: loadingPay, success: successPay, error: errorPay } = orderPay;\n  const dispatch = useDispatch();\n\n  \n  useEffect(() => {\n    if (successPay) {\n      dispatch({type:ORDER_PAY_RESET})\n      props.history.push(\"/profile\");\n    } else {\n      dispatch(detailsOrder(props.match.params.id));\n      \n    }\n    return () => {\n    };\n  }, [successPay]);\n\n  const handleSuccessPayment = (paymentResult) => {\n    \n    if(order.payment.paymentMethod==\"card\")\n    {\n      const points=Math.round(order.orderItems.reduce((a, c) => a + Number(c.price*c.qty), 0)*27/100)\n      console.log(points)\n      dispatch({type:USER_INCREMENT_POINTS,payload:points})\n      dispatch(payOrder(order, paymentResult))\n    }\n    else if(order.payment.paymentMethod==\"points\")\n    {  \n      const pointsProducts=order.orderItems.reduce((a, c) => a + Number(c.points_price * c.qty), 0)\n      dispatch({type:USER_DECREMENT_POINTS,payload:pointsProducts})\n      dispatch(payShipping(order,{...paymentResult,pointsProducts}))\n    }\n    dispatch(resetCart())\n  }\n\n  const handlePayment=()=>{\n    const points=order.orderItems.reduce((a, c) => a + Number(c.points_price * c.qty), 0)\n    const paymentResult={\n        payerID:userInfo._id ,\n        orderID: order._id,\n        paymentID: userInfo._id+\"-\"+userInfo.points,\n        points\n    }\n    dispatch(payOrderByPoints(order,paymentResult))\n    dispatch({type:USER_DECREMENT_POINTS,payload:points})\n    dispatch(resetCart())\n  }\n\n \n\n  \n\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\n\n    <div>\n      <div className=\"placeorder\">\n        <div className=\"placeorder-info\">\n          <div>\n            <h3>\n              Shipping\n          </h3>\n            <div>\n              {order.shipping.address}, {order.shipping.city},\n          {order.shipping.postalCode}, {order.shipping.country},\n          </div>\n            <div>\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\n            </div>\n          </div>\n          <div>\n            <h3>Payment</h3>\n            <div>\n              Payment Method: {order.payment.paymentMethod}\n            </div>\n            <div>\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\n            </div>\n          </div>\n          <div>\n            <ul className=\"cart-list-container\">\n              <li>\n                <h3>\n                  Shopping Cart\n          </h3>\n                <div>\n                  Price\n          </div>\n              </li>\n              {\n                order.orderItems.length === 0 ?\n                  <div>\n                    Cart is empty\n          </div>\n                  :\n                  order.orderItems.map(item =>\n                    <li key={item._id}>\n                      <div className=\"cart-image\">\n                        <img src={item.images[0]} alt=\"product\" />\n                      </div>\n                      <div className=\"cart-name\">\n                        <div>\n                          <Link to={\"/product/\" + item.product}>\n                            {item.name}\n                          </Link>\n\n                        </div>\n                        <div>\n                          Qty: {item.qty}\n                        </div>\n                      </div>\n                      <div className=\"cart-price\">\n                        ${item.price}\n                        <br/><img src={points} height=\"20\" width=\"20\"/>  {item.points_price} \n                      </div>\n                    </li>\n                  )\n              }\n            </ul>\n          </div>\n\n\n        </div>\n        <div className=\"placeorder-action\">\n          <ul>\n            <li className=\"placeorder-actions-payment\">\n              {loadingPay && <div>Finishing Payment...</div>}\n              {errorPay && <div>error Payment !</div>}\n              {!order.isPaid && order.payment.paymentMethod==\"card\" && order.totalPrice<=999999.99 &&\n                <PaymentButton  \n                  order={order}\n                  pay={handleSuccessPayment}\n                  />\n              }\n              {\n                !order.isPaid && order.payment.paymentMethod==\"points\" && order.shippingPrice==0 &&\n                <button className=\"button primary full-width\" onClick={handlePayment}>PAY</button>\n              }\n              {\n                !order.isPaid && order.payment.paymentMethod==\"card\" && order.totalPrice>999999.99 &&\n                <button className=\"button primary full-width\" >Amount more than $999,999.99 </button>\n              }\n              {\n                !order.isPaid && order.payment.paymentMethod==\"points\" && order.shippingPrice!=0 &&\n                <PaymentButton pay={handleSuccessPayment}\n                  order={order}\n                   />\n              }\n            </li>\n            <li>\n              <h3>Order Summary</h3>\n            </li>\n            <li>\n              <div>Items</div>\n              <div>${order.itemsPrice}</div>\n            </li>\n            <li>\n              <div>Shipping</div>\n              <div>${order.shippingPrice}</div>\n            </li>\n            <li>\n              <div>Tax</div>\n              <div>${order.taxPrice}</div>\n            </li>\n            <li>\n              <div>Order Total</div>\n              <div>${order.totalPrice}</div>\n            </li>\n          </ul>\n\n\n\n        </div>\n\n      </div>\n    </div>\n\n}\n\nexport default OrderScreen;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { logout, update,clearCache } from '../actions/userActions';\nimport { listMyOrders } from '../actions/orderActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {resetCart} from \"../actions/cartActions\";\n\n\nfunction ProfileScreen(props) {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const dispatch = useDispatch();\n\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo,loadingClear } = userSignin;\n  \n  const handleLogout = () => {\n    dispatch(logout());\n    dispatch(resetCart())\n    props.history.push(\"/signin\");\n  }\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(update({ userId: userInfo._id, email, name, password }))\n  }\n  const handleClear=()=>{\n    dispatch(clearCache(userInfo.token))\n  }\n  const userUpdate = useSelector(state => state.userUpdate);\n  const { loading, success, error } = userUpdate;\n\n  const myOrderList = useSelector(state => state.myOrderList);\n  const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n  useEffect(() => {\n    if (userInfo) {\n      setEmail(userInfo.email);\n      setName(userInfo.name);\n      setPassword(userInfo.password);\n    }\n    dispatch(listMyOrders());\n    return () => {\n\n    };\n  }, [userInfo])\n\n  return <div className=\"profile\">\n    <div className=\"profile-info\">\n      <div className=\"form\">\n        <form onSubmit={submitHandler} >\n          <ul className=\"form-container\">\n            <li>\n              <h2>User Profile</h2>\n            </li>\n            <li>\n              {loadingClear && <div>Clearing cache ...</div>}\n              {loading && <div>Loading...</div>}\n              {error && <div>{error}</div>}\n              {success && <div>Profile Saved Successfully.</div>}\n            </li>\n            <li>\n              <label htmlFor=\"name\">\n                Name\n              </label>\n              <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\n              </input>\n            </li>\n            <li>\n              <label htmlFor=\"email\">\n                Email\n          </label>\n              <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\n              </input>\n            </li>\n            <li>\n              <label htmlFor=\"password\">Password</label>\n              <input value={password} type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\n              </input>\n            </li>\n            <li>\n              <button type=\"submit\" className=\"button primary\">Update</button>\n            </li>\n            <li>\n              <button type=\"button\" onClick={handleClear} className=\"button primary\">Clear Cache</button>\n            </li>\n            <li>\n              <button type=\"button\" onClick={handleLogout} className=\"button secondary full-width\">Logout</button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n    <div className=\"profile-orders content-margined\">\n      {\n        loadingOrders ? <div>Loading...</div> :\n          errorOrders ? <div>{errorOrders} </div> :\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>DATE</th>\n                  <th>TOTAL</th>\n                  <th>PAID</th>\n                  <th>ACTIONS</th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders.map(order => <tr key={order._id}>\n                  <td>{order._id}</td>\n                  <td>{order.createdAt}</td>\n                  <td>{order.totalPrice}</td>\n                  <td>{order.isPaid.toString()}</td>\n                  <td>\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                  </td>\n                </tr>)}\n              </tbody>\n            </table>\n      }\n    </div>\n    \n  </div>\n}\n\nexport default ProfileScreen;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { listOrders, deleteOrder } from '../actions/orderActions';\n\nfunction OrdersScreen(props) {\n  const orderList = useSelector(state => state.orderList);\n  const { loading, orders, error } = orderList;\n\n  const orderDelete = useSelector(state => state.orderDelete);\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(listOrders());\n    return () => {\n      //\n    };\n  }, [successDelete]);\n\n  const deleteHandler = (order) => {\n    dispatch(deleteOrder(order._id));\n  }\n  return loading ? <div>Loading...</div> :\n    <div className=\"content content-margined\">\n\n      <div className=\"order-header\">\n        <h3>Orders</h3>\n      </div>\n      <div className=\"order-list\">\n\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>DATE</th>\n              <th>TOTAL</th>\n              <th>USER</th>\n              <th>PAID</th>\n              <th>PAID AT</th>\n              <th>DELIVERED</th>\n              <th>DELIVERED AT</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (<tr key={order._id}>\n              <td>{order._id}</td>\n              <td>{order.createdAt}</td>\n              <td>{order.totalPrice}</td>\n              <td>{order.user.name}</td>\n              <td>{order.isPaid.toString()}</td>\n              <td>{order.paidAt}</td>\n              <td>{order.isDelivered.toString()}</td>\n              <td>{order.deliveredAt}</td>\n              <td>\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\n                {' '}\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\n              </td>\n            </tr>))}\n          </tbody>\n        </table>\n\n      </div>\n    </div>\n}\nexport default OrdersScreen;","import Axios from 'axios';\nimport {\n CATEGORY_LIST_REQUEST,CATEGORY_LIST_SUCCESS, CATEGORY_LIST_FAIL} from \"../constants/categoryConstants\";\n \nconst listCategories = () => async (dispatch) => {\n  try {\n    dispatch({ type: CATEGORY_LIST_REQUEST });\n    const {data}  = await Axios.get('/api/products/categories');\n    dispatch({ type: CATEGORY_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({ type: CATEGORY_LIST_FAIL, payload: error.message });\n  }\n};\n\nexport default listCategories","export const CATEGORY_LIST_REQUEST = 'CATEGORY_LIST_REQUEST';\nexport const CATEGORY_LIST_SUCCESS = 'CATEGORY_LIST_SUCCESS';\nexport const CATEGORY_LIST_FAIL = 'CATEGORY_LIST_FAIL';","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport './App.css';\n\nimport { useSelector,useDispatch } from 'react-redux';\nimport Header from \"./utils/Header\";\nimport ProtectedRoute from \"./utils/ProtectedRoute\"\nimport HomeScreen from './components/HomeScreen';\nimport ProductScreen from './components/ProductScreen';\nimport CartScreen from './components/CartScreen';\nimport SigninScreen from './components/SigninScreen';\nimport RegisterScreen from './components/RegisterScreen';\nimport ProductsScreen from './components/ProductsScreen';\nimport ShippingScreen from './components/ShippingScreen';\nimport PaymentScreen from './components/PaymentScreen';\nimport PlaceOrderScreen from './components/PlaceOrderScreen';\nimport OrderScreen from './components/OrderScreen';\nimport ProfileScreen from './components/ProfileScreen';\nimport OrdersScreen from './components/OrdersScreen';\nimport listCategories from \"./actions/categoryActions\"\nfunction App() {\n \n\n  const dispatch = useDispatch();\n \n \n  const categories=useSelector((state)=>state.categories)\n  const {loading,categories:categoriesList}=categories\n\n  \n  const closeMenu = () => {\n    document.querySelector('.sidebar').classList.remove('open');\n  };\n\n  useEffect(() => {\n    dispatch(listCategories());\n    \n    return () => {\n      //\n    };\n  }, []);\n  \n  return (\n    <BrowserRouter>\n      <div className=\"grid-container\">\n        <Header/>\n        <aside className=\"sidebar\">\n          <h3>Shopping Categories</h3>\n          <button className=\"sidebar-close-button\" onClick={closeMenu}>\n            x\n          </button>\n          <ul className=\"categories\">\n          {(categoriesList) && (\n            categoriesList.map(category=>\n              <li><Link to={`/category/${category}`}>{category}</Link></li>\n             )\n          )}\n          </ul>\n        </aside>\n        <main className=\"main\">\n          <div className=\"content\">\n            <ProtectedRoute path=\"/orders\" component={OrdersScreen} />\n            <ProtectedRoute path=\"/profile\" component={ProfileScreen} />\n            <ProtectedRoute path=\"/order/:id\" component={OrderScreen} />\n            <ProtectedRoute path=\"/products\" component={ProductsScreen} />\n            <ProtectedRoute path=\"/shipping\" component={ShippingScreen} />\n            <ProtectedRoute path=\"/payment\" component={PaymentScreen} />\n            <ProtectedRoute path=\"/placeorder\" component={PlaceOrderScreen} />\n            <Route path=\"/signin\" component={SigninScreen} />\n            <Route path=\"/register\" component={RegisterScreen} />\n            <Route path=\"/product/:id\" component={ProductScreen} />\n            <Route path=\"/cart/:id?\" component={CartScreen} />\n            <Route path=\"/category/:id\" component={HomeScreen} />\n            <Route path=\"/\" exact={true} component={HomeScreen} />\n          </div>\n        </main>\n        <footer className=\"footer\">E-commerce 2020-2021</footer>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import {\n CATEGORY_LIST_REQUEST,CATEGORY_LIST_SUCCESS, CATEGORY_LIST_FAIL} from \"../constants/categoryConstants\";\n\nfunction categoryListReducer(state = {\n  categories: []\n}, action) {\n  switch (action.type) {\n    case CATEGORY_LIST_REQUEST:\n      return { loading: true };\n    case CATEGORY_LIST_SUCCESS:\n      return { loading: false, categories: action.payload };\n    case CATEGORY_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nexport default categoryListReducer","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport Cookie from 'js-cookie';\nimport {\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n  topProductsReducer\n} from './reducers/productReducers';\nimport { cartReducer } from './reducers/cartReducers';\nimport {\n  userSigninReducer,\n  userRegisterReducer,\n  userUpdateReducer,\n} from './reducers/userReducers';\nimport {\n  orderCreateReducer,\n  orderDetailsReducer,\n  orderPayReducer,\n  myOrderListReducer,\n  orderListReducer,\n  orderDeleteReducer,\n} from './reducers/orderReducers';\nimport categoryListReducer from \"./reducers/categoryReducer\"\nconst cartItems = Cookie.getJSON('cartItems') || [];\nconst userInfo = Cookie.getJSON('userInfo') || null;\n\nconst initialState = {\n  cart: { cartItems, shipping: {}, payment: {} },\n  userSignin: { userInfo },\n  categories:{categories:[],loading:false},\n  topProducts:{products:[],loading:false}\n};\nconst reducer = combineReducers({\n  topProducts:topProductsReducer,\n  categories:categoryListReducer,\n  productList: productListReducer,\n  productDetails: productDetailsReducer,\n  cart: cartReducer,\n  userSignin: userSigninReducer,\n  userRegister: userRegisterReducer,\n  productSave: productSaveReducer,\n  productDelete: productDeleteReducer,\n  productReviewSave: productReviewSaveReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer,\n  userUpdate: userUpdateReducer,\n  myOrderList: myOrderListReducer,\n  orderList: orderListReducer,\n  orderDelete: orderDeleteReducer,\n});\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer,initialState,composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_SAVE_REQUEST,\n  PRODUCT_SAVE_SUCCESS,\n  PRODUCT_SAVE_FAIL,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_REVIEW_SAVE_SUCCESS,\n  PRODUCT_REVIEW_SAVE_REQUEST,\n  PRODUCT_REVIEW_SAVE_FAIL,\n  PRODUCT_REVIEW_SAVE_RESET,\n  PRODUCT_LIST_TOP_REQUEST,\n  PRODUCT_LIST_TOP_SUCCESS,\n  PRODUCT_LIST_TOP_FAIL\n} from '../constants/productConstants';\n\nfunction topProductsReducer(state={products:[]},action){\n  switch(action.type)\n  {\n    case PRODUCT_LIST_TOP_REQUEST: \n       return {loading:true};\n    case PRODUCT_LIST_TOP_SUCCESS:\n       return {products:action.payload,loading:false};\n    case PRODUCT_LIST_TOP_FAIL:\n      return {loading:false, error:action.payload.error}\n    default: return state;\n  }\n}\n\nfunction productListReducer(state = { products: [] }, action) {\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return { loading: true, products: [] };\n    case PRODUCT_LIST_SUCCESS:\n      return { loading: false, products: action.payload };\n    case PRODUCT_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDetailsReducer(state = { product: { reviews: [] } }, action) {\n  switch (action.type) {\n    case PRODUCT_DETAILS_REQUEST:\n      return { loading: true };\n    case PRODUCT_DETAILS_SUCCESS:\n      return { loading: false, product: action.payload };\n    case PRODUCT_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productDeleteReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_DELETE_REQUEST:\n      return { loading: true };\n    case PRODUCT_DELETE_SUCCESS:\n      return { loading: false, product: action.payload, success: true };\n    case PRODUCT_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction productSaveReducer(state = { product: {} }, action) {\n  switch (action.type) {\n    case PRODUCT_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_SAVE_SUCCESS:\n      return { loading: false, success: true, product: action.payload };\n    case PRODUCT_SAVE_FAIL:\n      return { loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\nfunction productReviewSaveReducer(state = {}, action) {\n  switch (action.type) {\n    case PRODUCT_REVIEW_SAVE_REQUEST:\n      return { loading: true };\n    case PRODUCT_REVIEW_SAVE_SUCCESS:\n      return { loading: false, review: action.payload, success: true };\n    case PRODUCT_REVIEW_SAVE_FAIL:\n      return { loading: false, errror: action.payload };\n    case PRODUCT_REVIEW_SAVE_RESET:\n      return {};\n    default:\n      return state;\n  }\n}\n\nexport {\n  topProductsReducer,\n  productListReducer,\n  productDetailsReducer,\n  productSaveReducer,\n  productDeleteReducer,\n  productReviewSaveReducer,\n};\n","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT,CART_RESET } \nfrom \"../constants/cartConstants\";\n\nfunction cartReducer(state = { cartItems: [], shipping: {}, payment: {} }, action) {\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find(x => x.product === item.product);\n      if (product) {\n        return {\n          cartItems:\n            state.cartItems.map(x => x.product === product.product ? item : x)\n        };\n      }\n      return { cartItems: [...state.cartItems, item] };\n    case CART_REMOVE_ITEM:\n      return { cartItems: state.cartItems.filter(x => x.product !== action.payload) };\n    case CART_SAVE_SHIPPING:\n      return { ...state, shipping: action.payload };\n    case CART_SAVE_PAYMENT:\n      return { ...state, payment: action.payload };\n    case CART_RESET:\n      return { cartItems: [], shipping: {}, payment: {} }\n    default:\n      return state\n  }\n}\n\nexport { cartReducer }","import { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL,USER_DECREMENT_POINTS,USER_INCREMENT_POINTS,USER_CLEAR_CACHE_REQUEST,USER_CLEAR_CACHE_SUCCESS } from \"../constants/userConstants\";\n\nfunction userSigninReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_SIGNIN_REQUEST:\n      return { loading: true };\n    case USER_SIGNIN_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_SIGNIN_FAIL:\n      return { loading: false, error: action.payload };\n    case USER_DECREMENT_POINTS:\n      return { loading: false, userInfo: {...state.userInfo,points:state.userInfo.points-action.payload} };\n    case USER_INCREMENT_POINTS:\n        return { loading: false, userInfo: {...state.userInfo,points:state.userInfo.points+action.payload} };\n    case USER_CLEAR_CACHE_REQUEST:\n      return { loadingClear:true, userInfo: {...state.userInfo}}\n      case USER_CLEAR_CACHE_SUCCESS:\n        return { loadingClear:false, userInfo: {...state.userInfo}}\n    case USER_LOGOUT:\n      return {};\n    default: return state;\n  }\n}\n\nfunction userUpdateReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_UPDATE_REQUEST:\n      return { loading: true };\n    case USER_UPDATE_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    \n    case USER_UPDATE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction userRegisterReducer(state = {}, action) {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return { loading: true };\n    case USER_REGISTER_SUCCESS:\n      return { loading: false, userInfo: action.payload };\n    case USER_REGISTER_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\nexport {\n  userSigninReducer, userRegisterReducer, userUpdateReducer\n}","import {\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\n  ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL,\n  MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL,\n  ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL,\n  ORDER_RESET,ORDER_PAY_RESET\n} from \"../constants/orderConstants\";\n\n\nfunction orderCreateReducer(state = {}, action) {\n  switch (action.type) {\n    case ORDER_CREATE_REQUEST:\n      return { loading: true };\n    case ORDER_CREATE_SUCCESS:\n      return { loading: false, order: action.payload, success: true };\n    case ORDER_CREATE_FAIL:\n      return { loading: false, error: action.payload };\n    case ORDER_RESET:\n      return {...state.order,loading:false,success:false}\n    default: return state;\n  }\n}\n\n\nfunction orderDetailsReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DETAILS_REQUEST:\n      return { loading: true };\n    case ORDER_DETAILS_SUCCESS:\n      return { loading: false, order: action.payload };\n    case ORDER_DETAILS_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\n\nfunction myOrderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case MY_ORDER_LIST_REQUEST:\n      return { loading: true };\n    case MY_ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case MY_ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderListReducer(state = {\n  orders: []\n}, action) {\n  switch (action.type) {\n    case ORDER_LIST_REQUEST:\n      return { loading: true };\n    case ORDER_LIST_SUCCESS:\n      return { loading: false, orders: action.payload };\n    case ORDER_LIST_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nfunction orderPayReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_PAY_REQUEST:\n      return { loading: true };\n    case ORDER_PAY_SUCCESS:\n      return { loading: false, success: true,order:{orderItems:action.payload.orderItems,\n                                                    shipping:action.payload.shipping,\n                                                    payment:action.payload.paymentResult} \n              };\n    case ORDER_PAY_FAIL:\n      return { loading: false, error: action.payload };\n    case ORDER_PAY_RESET:\n      return { loading:false, success:false}\n    default: return state;\n  }\n}\n\nfunction orderDeleteReducer(state = {\n  order: {\n    orderItems: [],\n    shipping: {},\n    payment: {}\n  }\n}, action) {\n  switch (action.type) {\n    case ORDER_DELETE_REQUEST:\n      return { loading: true };\n    case ORDER_DELETE_SUCCESS:\n      return { loading: false, success: true };\n    case ORDER_DELETE_FAIL:\n      return { loading: false, error: action.payload };\n    default: return state;\n  }\n}\n\nexport {\n  orderCreateReducer, orderDetailsReducer,\n  orderPayReducer, myOrderListReducer, orderListReducer, orderDeleteReducer\n}","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}